(()=>{var be=Object.create;var he=Object.defineProperty;var Ne=Object.getOwnPropertyDescriptor;var $e=Object.getOwnPropertyNames;var Ce=Object.getPrototypeOf,Be=Object.prototype.hasOwnProperty;var $=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var He=(r,e,t,c)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of $e(e))!Be.call(r,s)&&s!==t&&he(r,s,{get:()=>e[s],enumerable:!(c=Ne(e,s))||c.enumerable});return r};var je=(r,e,t)=>(t=r!=null?be(Ce(r)):{},He(e||!r||!r.__esModule?he(t,"default",{value:r,enumerable:!0}):t,r));var ue=$((xt,le)=>{(function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,c){return t<<c|t>>>32-c},rotr:function(t,c){return t<<32-c|t>>>c},endian:function(t){if(t.constructor==Number)return e.rotl(t,8)&16711935|e.rotl(t,24)&4278255360;for(var c=0;c<t.length;c++)t[c]=e.endian(t[c]);return t},randomBytes:function(t){for(var c=[];t>0;t--)c.push(Math.floor(Math.random()*256));return c},bytesToWords:function(t){for(var c=[],s=0,a=0;s<t.length;s++,a+=8)c[a>>>5]|=t[s]<<24-a%32;return c},wordsToBytes:function(t){for(var c=[],s=0;s<t.length*32;s+=8)c.push(t[s>>>5]>>>24-s%32&255);return c},bytesToHex:function(t){for(var c=[],s=0;s<t.length;s++)c.push((t[s]>>>4).toString(16)),c.push((t[s]&15).toString(16));return c.join("")},hexToBytes:function(t){for(var c=[],s=0;s<t.length;s+=2)c.push(parseInt(t.substr(s,2),16));return c},bytesToBase64:function(t){for(var c=[],s=0;s<t.length;s+=3)for(var a=t[s]<<16|t[s+1]<<8|t[s+2],u=0;u<4;u++)s*8+u*6<=t.length*8?c.push(r.charAt(a>>>6*(3-u)&63)):c.push("=");return c.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var c=[],s=0,a=0;s<t.length;a=++s%4)a!=0&&c.push((r.indexOf(t.charAt(s-1))&Math.pow(2,-2*a+8)-1)<<a*2|r.indexOf(t.charAt(s))>>>6-a*2);return c}};le.exports=e})()});var G=$((wt,fe)=>{var U={utf8:{stringToBytes:function(r){return U.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(U.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var e=[],t=0;t<r.length;t++)e.push(r.charCodeAt(t)&255);return e},bytesToString:function(r){for(var e=[],t=0;t<r.length;t++)e.push(String.fromCharCode(r[t]));return e.join("")}}};fe.exports=U});var pe=$((vt,ge)=>{ge.exports=function(r){return r!=null&&(de(r)||Pe(r)||!!r._isBuffer)};function de(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Pe(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&de(r.slice(0,0))}});var ye=$((Lt,me)=>{(function(){var r=ue(),e=G().utf8,t=pe(),c=G().bin,s=function(a,u){a.constructor==String?u&&u.encoding==="binary"?a=c.stringToBytes(a):a=e.stringToBytes(a):t(a)?a=Array.prototype.slice.call(a,0):!Array.isArray(a)&&a.constructor!==Uint8Array&&(a=a.toString());for(var n=r.bytesToWords(a),d=a.length*8,o=1732584193,i=-271733879,h=-1732584194,l=271733878,f=0;f<n.length;f++)n[f]=(n[f]<<8|n[f]>>>24)&16711935|(n[f]<<24|n[f]>>>8)&4278255360;n[d>>>5]|=128<<d%32,n[(d+64>>>9<<4)+14]=d;for(var p=s._ff,m=s._gg,M=s._hh,y=s._ii,f=0;f<n.length;f+=16){var I=o,w=i,k=h,D=l;o=p(o,i,h,l,n[f+0],7,-680876936),l=p(l,o,i,h,n[f+1],12,-389564586),h=p(h,l,o,i,n[f+2],17,606105819),i=p(i,h,l,o,n[f+3],22,-1044525330),o=p(o,i,h,l,n[f+4],7,-176418897),l=p(l,o,i,h,n[f+5],12,1200080426),h=p(h,l,o,i,n[f+6],17,-1473231341),i=p(i,h,l,o,n[f+7],22,-45705983),o=p(o,i,h,l,n[f+8],7,1770035416),l=p(l,o,i,h,n[f+9],12,-1958414417),h=p(h,l,o,i,n[f+10],17,-42063),i=p(i,h,l,o,n[f+11],22,-1990404162),o=p(o,i,h,l,n[f+12],7,1804603682),l=p(l,o,i,h,n[f+13],12,-40341101),h=p(h,l,o,i,n[f+14],17,-1502002290),i=p(i,h,l,o,n[f+15],22,1236535329),o=m(o,i,h,l,n[f+1],5,-165796510),l=m(l,o,i,h,n[f+6],9,-1069501632),h=m(h,l,o,i,n[f+11],14,643717713),i=m(i,h,l,o,n[f+0],20,-373897302),o=m(o,i,h,l,n[f+5],5,-701558691),l=m(l,o,i,h,n[f+10],9,38016083),h=m(h,l,o,i,n[f+15],14,-660478335),i=m(i,h,l,o,n[f+4],20,-405537848),o=m(o,i,h,l,n[f+9],5,568446438),l=m(l,o,i,h,n[f+14],9,-1019803690),h=m(h,l,o,i,n[f+3],14,-187363961),i=m(i,h,l,o,n[f+8],20,1163531501),o=m(o,i,h,l,n[f+13],5,-1444681467),l=m(l,o,i,h,n[f+2],9,-51403784),h=m(h,l,o,i,n[f+7],14,1735328473),i=m(i,h,l,o,n[f+12],20,-1926607734),o=M(o,i,h,l,n[f+5],4,-378558),l=M(l,o,i,h,n[f+8],11,-2022574463),h=M(h,l,o,i,n[f+11],16,1839030562),i=M(i,h,l,o,n[f+14],23,-35309556),o=M(o,i,h,l,n[f+1],4,-1530992060),l=M(l,o,i,h,n[f+4],11,1272893353),h=M(h,l,o,i,n[f+7],16,-155497632),i=M(i,h,l,o,n[f+10],23,-1094730640),o=M(o,i,h,l,n[f+13],4,681279174),l=M(l,o,i,h,n[f+0],11,-358537222),h=M(h,l,o,i,n[f+3],16,-722521979),i=M(i,h,l,o,n[f+6],23,76029189),o=M(o,i,h,l,n[f+9],4,-640364487),l=M(l,o,i,h,n[f+12],11,-421815835),h=M(h,l,o,i,n[f+15],16,530742520),i=M(i,h,l,o,n[f+2],23,-995338651),o=y(o,i,h,l,n[f+0],6,-198630844),l=y(l,o,i,h,n[f+7],10,1126891415),h=y(h,l,o,i,n[f+14],15,-1416354905),i=y(i,h,l,o,n[f+5],21,-57434055),o=y(o,i,h,l,n[f+12],6,1700485571),l=y(l,o,i,h,n[f+3],10,-1894986606),h=y(h,l,o,i,n[f+10],15,-1051523),i=y(i,h,l,o,n[f+1],21,-2054922799),o=y(o,i,h,l,n[f+8],6,1873313359),l=y(l,o,i,h,n[f+15],10,-30611744),h=y(h,l,o,i,n[f+6],15,-1560198380),i=y(i,h,l,o,n[f+13],21,1309151649),o=y(o,i,h,l,n[f+4],6,-145523070),l=y(l,o,i,h,n[f+11],10,-1120210379),h=y(h,l,o,i,n[f+2],15,718787259),i=y(i,h,l,o,n[f+9],21,-343485551),o=o+I>>>0,i=i+w>>>0,h=h+k>>>0,l=l+D>>>0}return r.endian([o,i,h,l])};s._ff=function(a,u,n,d,o,i,h){var l=a+(u&n|~u&d)+(o>>>0)+h;return(l<<i|l>>>32-i)+u},s._gg=function(a,u,n,d,o,i,h){var l=a+(u&d|n&~d)+(o>>>0)+h;return(l<<i|l>>>32-i)+u},s._hh=function(a,u,n,d,o,i,h){var l=a+(u^n^d)+(o>>>0)+h;return(l<<i|l>>>32-i)+u},s._ii=function(a,u,n,d,o,i,h){var l=a+(n^(u|~d))+(o>>>0)+h;return(l<<i|l>>>32-i)+u},s._blocksize=16,s._digestsize=16,me.exports=function(a,u){if(a==null)throw new Error("Illegal argument "+a);var n=r.wordsToBytes(s(a,u));return u&&u.asBytes?n:u&&u.asString?c.bytesToString(n):r.bytesToHex(n)}})()});var Me=je(ye()),Se={init(){document.addEventListener("submit",async r=>{if(r.target?.dataset?.dynamicForm===void 0)return;r.preventDefault();let e=r.target,t=new FormData(e),c=e.action,s=e.method;if((await fetch(c,{method:s,body:t,headers:{Accept:"application/json"}})).ok){if(e.dataset.pre){let n=document.querySelector(e.dataset.pre).innerHTML;for(let d of t){let o=d[0],i=d[1];n=n.replaceAll(`[[${o}]]`,i),o==="email"&&(n=n.replaceAll("[[emailhash]]",(0,Me.default)(i)))}e.insertAdjacentHTML("beforebegin",n)}e.insertAdjacentHTML("afterend",document.querySelector(e.dataset.success).innerHTML)}else e.insertAdjacentHTML("afterend",document.querySelector(e.dataset.error).innerHTML);let u=e.nextElementSibling;e.remove()})}};function v(r){return Array.isArray?Array.isArray(r):Ie(r)==="[object Array]"}var De=1/0;function We(r){if(typeof r=="string")return r;let e=r+"";return e=="0"&&1/r==-De?"-0":e}function Ke(r){return r==null?"":We(r)}function E(r){return typeof r=="string"}function ve(r){return typeof r=="number"}function Ue(r){return r===!0||r===!1||Ge(r)&&Ie(r)=="[object Boolean]"}function Le(r){return typeof r=="object"}function Ge(r){return Le(r)&&r!==null}function S(r){return r!=null}function V(r){return!r.trim().length}function Ie(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}var Ve="Incorrect 'index' type",ze=r=>`Invalid value for key ${r}`,Ye=r=>`Pattern length exceeds max of ${r}.`,Xe=r=>`Missing ${r} property in key`,qe=r=>`Property 'weight' in key '${r}' must be a positive integer`,_e=Object.prototype.hasOwnProperty,z=class{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(c=>{let s=Te(c);t+=s.weight,this._keys.push(s),this._keyMap[s.id]=s,t+=s.weight}),this._keys.forEach(c=>{c.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Te(r){let e=null,t=null,c=null,s=1,a=null;if(E(r)||v(r))c=r,e=Ae(r),t=Y(r);else{if(!_e.call(r,"name"))throw new Error(Xe("name"));let u=r.name;if(c=u,_e.call(r,"weight")&&(s=r.weight,s<=0))throw new Error(qe(u));e=Ae(u),t=Y(u),a=r.getFn}return{path:e,id:t,weight:s,src:c,getFn:a}}function Ae(r){return v(r)?r:r.split(".")}function Y(r){return v(r)?r.join("."):r}function Qe(r,e){let t=[],c=!1,s=(a,u,n)=>{if(!!S(a))if(!u[n])t.push(a);else{let d=u[n],o=a[d];if(!S(o))return;if(n===u.length-1&&(E(o)||ve(o)||Ue(o)))t.push(Ke(o));else if(v(o)){c=!0;for(let i=0,h=o.length;i<h;i+=1)s(o[i],u,n+1)}else u.length&&s(o,u,n+1)}};return s(r,E(e)?e.split("."):e,0),c?t:t[0]}var Je={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ze={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(r,e)=>r.score===e.score?r.idx<e.idx?-1:1:r.score<e.score?-1:1},et={location:0,threshold:.6,distance:100},tt={useExtendedSearch:!1,getFn:Qe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},g={...Ze,...Je,...et,...tt},rt=/[^ ]+/g;function nt(r=1,e=3){let t=new Map,c=Math.pow(10,e);return{get(s){let a=s.match(rt).length;if(t.has(a))return t.get(a);let u=1/Math.pow(a,.5*r),n=parseFloat(Math.round(u*c)/c);return t.set(a,n),n},clear(){t.clear()}}}var b=class{constructor({getFn:e=g.getFn,fieldNormWeight:t=g.fieldNormWeight}={}){this.norm=nt(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,c)=>{this._keysMap[t.id]=c})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,E(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();E(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,c=this.size();t<c;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!S(e)||V(e))return;let c={v:e,i:t,n:this.norm.get(e)};this.records.push(c)}_addObject(e,t){let c={i:t,$:{}};this.keys.forEach((s,a)=>{let u=s.getFn?s.getFn(e):this.getFn(e,s.path);if(!!S(u)){if(v(u)){let n=[],d=[{nestedArrIndex:-1,value:u}];for(;d.length;){let{nestedArrIndex:o,value:i}=d.pop();if(!!S(i))if(E(i)&&!V(i)){let h={v:i,i:o,n:this.norm.get(i)};n.push(h)}else v(i)&&i.forEach((h,l)=>{d.push({nestedArrIndex:l,value:h})})}c.$[a]=n}else if(E(u)&&!V(u)){let n={v:u,n:this.norm.get(u)};c.$[a]=n}}}),this.records.push(c)}toJSON(){return{keys:this.keys,records:this.records}}};function Re(r,e,{getFn:t=g.getFn,fieldNormWeight:c=g.fieldNormWeight}={}){let s=new b({getFn:t,fieldNormWeight:c});return s.setKeys(r.map(Te)),s.setSources(e),s.create(),s}function st(r,{getFn:e=g.getFn,fieldNormWeight:t=g.fieldNormWeight}={}){let{keys:c,records:s}=r,a=new b({getFn:e,fieldNormWeight:t});return a.setKeys(c),a.setIndexRecords(s),a}function C(r,{errors:e=0,currentLocation:t=0,expectedLocation:c=0,distance:s=g.distance,ignoreLocation:a=g.ignoreLocation}={}){let u=e/r.length;if(a)return u;let n=Math.abs(c-t);return s?u+n/s:n?1:u}function it(r=[],e=g.minMatchCharLength){let t=[],c=-1,s=-1,a=0;for(let u=r.length;a<u;a+=1){let n=r[a];n&&c===-1?c=a:!n&&c!==-1&&(s=a-1,s-c+1>=e&&t.push([c,s]),c=-1)}return r[a-1]&&a-c>=e&&t.push([c,a-1]),t}var F=32;function ct(r,e,t,{location:c=g.location,distance:s=g.distance,threshold:a=g.threshold,findAllMatches:u=g.findAllMatches,minMatchCharLength:n=g.minMatchCharLength,includeMatches:d=g.includeMatches,ignoreLocation:o=g.ignoreLocation}={}){if(e.length>F)throw new Error(Ye(F));let i=e.length,h=r.length,l=Math.max(0,Math.min(c,h)),f=a,p=l,m=n>1||d,M=m?Array(h):[],y;for(;(y=r.indexOf(e,p))>-1;){let _=C(e,{currentLocation:y,expectedLocation:l,distance:s,ignoreLocation:o});if(f=Math.min(_,f),p=y+i,m){let T=0;for(;T<i;)M[y+T]=1,T+=1}}p=-1;let I=[],w=1,k=i+h,D=1<<i-1;for(let _=0;_<i;_+=1){let T=0,R=k;for(;T<R;)C(e,{errors:_,currentLocation:l+R,expectedLocation:l,distance:s,ignoreLocation:o})<=f?T=R:k=R,R=Math.floor((k-T)/2+T);k=R;let oe=Math.max(1,l-R+1),K=u?h:Math.min(l+R,h)+i,O=Array(K+2);O[K+1]=(1<<_)-1;for(let A=K;A>=oe;A-=1){let N=A-1,ae=t[r.charAt(N)];if(m&&(M[N]=+!!ae),O[A]=(O[A+1]<<1|1)&ae,_&&(O[A]|=(I[A+1]|I[A])<<1|1|I[A+1]),O[A]&D&&(w=C(e,{errors:_,currentLocation:N,expectedLocation:l,distance:s,ignoreLocation:o}),w<=f)){if(f=w,p=N,p<=l)break;oe=Math.max(1,2*l-p)}}if(C(e,{errors:_+1,currentLocation:l,expectedLocation:l,distance:s,ignoreLocation:o})>f)break;I=O}let W={isMatch:p>=0,score:Math.max(.001,w)};if(m){let _=it(M,n);_.length?d&&(W.indices=_):W.isMatch=!1}return W}function ot(r){let e={};for(let t=0,c=r.length;t<c;t+=1){let s=r.charAt(t);e[s]=(e[s]||0)|1<<c-t-1}return e}var B=class{constructor(e,{location:t=g.location,threshold:c=g.threshold,distance:s=g.distance,includeMatches:a=g.includeMatches,findAllMatches:u=g.findAllMatches,minMatchCharLength:n=g.minMatchCharLength,isCaseSensitive:d=g.isCaseSensitive,ignoreLocation:o=g.ignoreLocation}={}){if(this.options={location:t,threshold:c,distance:s,includeMatches:a,findAllMatches:u,minMatchCharLength:n,isCaseSensitive:d,ignoreLocation:o},this.pattern=d?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let i=(l,f)=>{this.chunks.push({pattern:l,alphabet:ot(l),startIndex:f})},h=this.pattern.length;if(h>F){let l=0,f=h%F,p=h-f;for(;l<p;)i(this.pattern.substr(l,F),l),l+=F;if(f){let m=h-F;i(this.pattern.substr(m),m)}}else i(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,includeMatches:c}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let p={isMatch:!0,score:0};return c&&(p.indices=[[0,e.length-1]]),p}let{location:s,distance:a,threshold:u,findAllMatches:n,minMatchCharLength:d,ignoreLocation:o}=this.options,i=[],h=0,l=!1;this.chunks.forEach(({pattern:p,alphabet:m,startIndex:M})=>{let{isMatch:y,score:I,indices:w}=ct(e,p,m,{location:s+M,distance:a,threshold:u,findAllMatches:n,minMatchCharLength:d,includeMatches:c,ignoreLocation:o});y&&(l=!0),h+=I,y&&w&&(i=[...i,...w])});let f={isMatch:l,score:l?h/this.chunks.length:1};return l&&c&&(f.indices=i),f}},x=class{constructor(e){this.pattern=e}static isMultiMatch(e){return Ee(e,this.multiRegex)}static isSingleMatch(e){return Ee(e,this.singleRegex)}search(){}};function Ee(r,e){let t=r.match(e);return t?t[1]:null}var X=class extends x{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},q=class extends x{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let c=e.indexOf(this.pattern)===-1;return{isMatch:c,score:c?0:1,indices:[0,e.length-1]}}},Q=class extends x{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},J=class extends x{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Z=class extends x{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},ee=class extends x{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},H=class extends x{constructor(e,{location:t=g.location,threshold:c=g.threshold,distance:s=g.distance,includeMatches:a=g.includeMatches,findAllMatches:u=g.findAllMatches,minMatchCharLength:n=g.minMatchCharLength,isCaseSensitive:d=g.isCaseSensitive,ignoreLocation:o=g.ignoreLocation}={}){super(e),this._bitapSearch=new B(e,{location:t,threshold:c,distance:s,includeMatches:a,findAllMatches:u,minMatchCharLength:n,isCaseSensitive:d,ignoreLocation:o})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},j=class extends x{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,c,s=[],a=this.pattern.length;for(;(c=e.indexOf(this.pattern,t))>-1;)t=c+a,s.push([c,t-1]);let u=!!s.length;return{isMatch:u,score:u?0:1,indices:s}}},te=[X,j,Q,J,ee,Z,q,H],xe=te.length,at=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ht="|";function lt(r,e={}){return r.split(ht).map(t=>{let c=t.trim().split(at).filter(a=>a&&!!a.trim()),s=[];for(let a=0,u=c.length;a<u;a+=1){let n=c[a],d=!1,o=-1;for(;!d&&++o<xe;){let i=te[o],h=i.isMultiMatch(n);h&&(s.push(new i(h,e)),d=!0)}if(!d)for(o=-1;++o<xe;){let i=te[o],h=i.isSingleMatch(n);if(h){s.push(new i(h,e));break}}}return s})}var ut=new Set([H.type,j.type]),re=class{constructor(e,{isCaseSensitive:t=g.isCaseSensitive,includeMatches:c=g.includeMatches,minMatchCharLength:s=g.minMatchCharLength,ignoreLocation:a=g.ignoreLocation,findAllMatches:u=g.findAllMatches,location:n=g.location,threshold:d=g.threshold,distance:o=g.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:c,minMatchCharLength:s,findAllMatches:u,ignoreLocation:a,location:n,threshold:d,distance:o},this.pattern=t?e:e.toLowerCase(),this.query=lt(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:c,isCaseSensitive:s}=this.options;e=s?e:e.toLowerCase();let a=0,u=[],n=0;for(let d=0,o=t.length;d<o;d+=1){let i=t[d];u.length=0,a=0;for(let h=0,l=i.length;h<l;h+=1){let f=i[h],{isMatch:p,indices:m,score:M}=f.search(e);if(p){if(a+=1,n+=M,c){let y=f.constructor.type;ut.has(y)?u=[...u,...m]:u.push(m)}}else{n=0,a=0,u.length=0;break}}if(a){let h={isMatch:!0,score:n/a};return c&&(h.indices=u),h}}return{isMatch:!1,score:1}}},ne=[];function ft(...r){ne.push(...r)}function se(r,e){for(let t=0,c=ne.length;t<c;t+=1){let s=ne[t];if(s.condition(r,e))return new s(r,e)}return new B(r,e)}var P={AND:"$and",OR:"$or"},ie={PATH:"$path",PATTERN:"$val"},ce=r=>!!(r[P.AND]||r[P.OR]),dt=r=>!!r[ie.PATH],gt=r=>!v(r)&&Le(r)&&!ce(r),we=r=>({[P.AND]:Object.keys(r).map(e=>({[e]:r[e]}))});function Fe(r,e,{auto:t=!0}={}){let c=s=>{let a=Object.keys(s),u=dt(s);if(!u&&a.length>1&&!ce(s))return c(we(s));if(gt(s)){let d=u?s[ie.PATH]:a[0],o=u?s[ie.PATTERN]:s[d];if(!E(o))throw new Error(ze(d));let i={keyId:Y(d),pattern:o};return t&&(i.searcher=se(o,e)),i}let n={children:[],operator:a[0]};return a.forEach(d=>{let o=s[d];v(o)&&o.forEach(i=>{n.children.push(c(i))})}),n};return ce(r)||(r=we(r)),c(r)}function pt(r,{ignoreFieldNorm:e=g.ignoreFieldNorm}){r.forEach(t=>{let c=1;t.matches.forEach(({key:s,norm:a,score:u})=>{let n=s?s.weight:null;c*=Math.pow(u===0&&n?Number.EPSILON:u,(n||1)*(e?1:a))}),t.score=c})}function mt(r,e){let t=r.matches;e.matches=[],S(t)&&t.forEach(c=>{if(!S(c.indices)||!c.indices.length)return;let{indices:s,value:a}=c,u={indices:s,value:a};c.key&&(u.key=c.key.src),c.idx>-1&&(u.refIndex=c.idx),e.matches.push(u)})}function yt(r,e){e.score=r.score}function Mt(r,e,{includeMatches:t=g.includeMatches,includeScore:c=g.includeScore}={}){let s=[];return t&&s.push(mt),c&&s.push(yt),r.map(a=>{let{idx:u}=a,n={item:e[u],refIndex:u};return s.length&&s.forEach(d=>{d(a,n)}),n})}var L=class{constructor(e,t={},c){this.options={...g,...t},this.options.useExtendedSearch,this._keyStore=new z(this.options.keys),this.setCollection(e,c)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof b))throw new Error(Ve);this._myIndex=t||Re(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){!S(e)||(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let c=0,s=this._docs.length;c<s;c+=1){let a=this._docs[c];e(a,c)&&(this.removeAt(c),c-=1,s-=1,t.push(a))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:c,includeScore:s,shouldSort:a,sortFn:u,ignoreFieldNorm:n}=this.options,d=E(e)?E(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return pt(d,{ignoreFieldNorm:n}),a&&d.sort(u),ve(t)&&t>-1&&(d=d.slice(0,t)),Mt(d,this._docs,{includeMatches:c,includeScore:s})}_searchStringList(e){let t=se(e,this.options),{records:c}=this._myIndex,s=[];return c.forEach(({v:a,i:u,n})=>{if(!S(a))return;let{isMatch:d,score:o,indices:i}=t.searchIn(a);d&&s.push({item:a,idx:u,matches:[{score:o,value:a,norm:n,indices:i}]})}),s}_searchLogical(e){let t=Fe(e,this.options),c=(n,d,o)=>{if(!n.children){let{keyId:h,searcher:l}=n,f=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(d,h),searcher:l});return f&&f.length?[{idx:o,item:d,matches:f}]:[]}let i=[];for(let h=0,l=n.children.length;h<l;h+=1){let f=n.children[h],p=c(f,d,o);if(p.length)i.push(...p);else if(n.operator===P.AND)return[]}return i},s=this._myIndex.records,a={},u=[];return s.forEach(({$:n,i:d})=>{if(S(n)){let o=c(t,n,d);o.length&&(a[d]||(a[d]={idx:d,item:n,matches:[]},u.push(a[d])),o.forEach(({matches:i})=>{a[d].matches.push(...i)}))}}),u}_searchObjectList(e){let t=se(e,this.options),{keys:c,records:s}=this._myIndex,a=[];return s.forEach(({$:u,i:n})=>{if(!S(u))return;let d=[];c.forEach((o,i)=>{d.push(...this._findMatches({key:o,value:u[i],searcher:t}))}),d.length&&a.push({idx:n,item:u,matches:d})}),a}_findMatches({key:e,value:t,searcher:c}){if(!S(t))return[];let s=[];if(v(t))t.forEach(({v:a,i:u,n})=>{if(!S(a))return;let{isMatch:d,score:o,indices:i}=c.searchIn(a);d&&s.push({score:o,key:e,value:a,idx:u,norm:n,indices:i})});else{let{v:a,n:u}=t,{isMatch:n,score:d,indices:o}=c.searchIn(a);n&&s.push({score:d,key:e,value:a,norm:u,indices:o})}return s}};L.version="6.6.2";L.createIndex=Re;L.parseIndex=st;L.config=g;L.parseQuery=Fe;ft(re);var ke=null,St=5,Oe={async init(){try{let r=await window.fetch(".//index.json");if(!r.ok){this.removeSearch();return}let e=await r.json();ke=new L(e,{keys:[{name:"title",weight:20},{name:"tag",weight:5},{name:"content"}]}),document.addEventListener("input",this.showResults)}catch{this.removeSearch()}},showResults(r){let e=document.querySelector("#search input");if(r.target!==e)return;let t=document.querySelector("#search div");if(e.value.length>0){let c=ke.search(e.value);t.innerHTML=c.slice(0,St).map(s=>`<a href="${s.item.url}">
            <img src="${s.item.cover||""}" width="40" height="40">
            <h3>${s.item.title}</h3>
            <span>${s.item.content.substr(0,40)}</span>
          </a>`).join("")}else t.innerHTML=""},removeSearch(){document.querySelector("#search")?.remove()}};function _t(){Se.init(),Oe.init()}_t();})();
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
